<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto News Hub - 실시간 암호화폐 뉴스</title>
    <meta name="description" content="실시간 비트코인 및 암호화폐 뉴스를 한눈에 확인하세요">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Auth Modal -->
    <div id="authModal" class="modal-overlay hidden">
        <div class="modal-container">
            <button id="closeAuthModal" class="modal-close">&times;</button>
            <div class="modal-header">
                <div class="modal-logo">₿</div>
                <h2 id="authModalTitle">로그인</h2>
            </div>
            <form id="authForm" class="auth-form">
                <div class="form-group">
                    <label for="authEmail">이메일</label>
                    <input type="email" id="authEmail" placeholder="your@email.com" required autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="authPassword">비밀번호</label>
                    <input type="password" id="authPassword" placeholder="••••••••" required minlength="6"
                        autocomplete="current-password">
                </div>
                <div id="authError" class="auth-error hidden"></div>
                <button type="submit" id="authSubmitBtn" class="btn-auth-submit">로그인</button>
            </form>
            <div class="auth-switch">
                <span id="authSwitchText">계정이 없으신가요?</span>
                <button id="authSwitchBtn" class="btn-auth-switch">회원가입</button>
            </div>
            <div class="auth-divider"><span>또는</span></div>
            <button id="googleSignInBtn" class="btn-google-signin">
                <svg width="18" height="18" viewBox="0 0 24 24">
                    <path
                        d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"
                        fill="#4285F4" />
                    <path
                        d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                        fill="#34A853" />
                    <path
                        d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                        fill="#FBBC05" />
                    <path
                        d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                        fill="#EA4335" />
                </svg>
                Google로 로그인
            </button>
        </div>
    </div>

    <div class="container">
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-icon">₿</div>
                    <h1>Crypto News Hub</h1>
                </div>
                <p class="tagline">실시간 암호화폐 시장 뉴스</p>
            </div>
            <div class="header-buttons">
                <button id="authBtn" class="btn-auth">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                        <circle cx="12" cy="7" r="4" />
                    </svg>
                    로그인
                </button>
                <button id="aiSummaryBtn" class="btn-ai">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path
                            d="M12 2a4 4 0 0 1 4 4v1a3 3 0 0 1 3 3v1a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-1v1a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3v-1H5a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2v-1a3 3 0 0 1 3-3V6a4 4 0 0 1 4-4z" />
                        <circle cx="9" cy="13" r="1" />
                        <circle cx="15" cy="13" r="1" />
                        <path d="M10 17h4" />
                    </svg>
                    AI 시장 분석
                </button>
                <button id="translateAllBtn" class="btn-translate">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 8l6 6M4 14l6-6 2-3M2 5h12M7 2h1M22 22l-5-10-5 10M14 18h6" />
                    </svg>
                    한국어 번역
                </button>
                <button id="refreshBtn" class="btn-refresh">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2" />
                    </svg>
                    새로고침
                </button>
            </div>
        </header>

        <section id="priceTicker" class="price-ticker">
            <div class="price-ticker-inner">
                <div class="price-card loading-shimmer" id="price-BTCUSDT">
                    <span class="price-symbol">BTC</span>
                    <span class="price-value">--</span>
                    <span class="price-change">--%</span>
                </div>
                <div class="price-card loading-shimmer" id="price-ETHUSDT">
                    <span class="price-symbol">ETH</span>
                    <span class="price-value">--</span>
                    <span class="price-change">--%</span>
                </div>
                <div class="price-card loading-shimmer" id="price-BNBUSDT">
                    <span class="price-symbol">BNB</span>
                    <span class="price-value">--</span>
                    <span class="price-change">--%</span>
                </div>
                <div class="price-card loading-shimmer" id="price-SOLUSDT">
                    <span class="price-symbol">SOL</span>
                    <span class="price-value">--</span>
                    <span class="price-change">--%</span>
                </div>
                <div class="price-card loading-shimmer" id="price-XRPUSDT">
                    <span class="price-symbol">XRP</span>
                    <span class="price-value">--</span>
                    <span class="price-change">--%</span>
                </div>
            </div>
        </section>

        <!-- AI Market Summary Panel -->
        <section id="aiSummaryPanel" class="ai-summary-panel hidden">
            <div class="ai-summary-header">
                <div class="ai-summary-title">
                    <span class="ai-badge">🤖 AI</span>
                    <h2>시장 흐름 분석</h2>
                </div>
                <button id="closeSummaryBtn" class="btn-close-summary">&times;</button>
            </div>
            <div id="aiSummaryContent" class="ai-summary-content">
                <div class="ai-loading">
                    <div class="ai-loading-dots">
                        <span></span><span></span><span></span>
                    </div>
                    <p>AI가 시장을 분석하고 있습니다...</p>
                </div>
            </div>
            <div class="ai-summary-footer">
                <span>Powered by TensorFlow.js</span>
                <span id="summaryTimestamp"></span>
            </div>
        </section>

        <!-- YouTube Crypto Videos Section -->
        <section id="youtubeSection" class="youtube-section">
            <div class="section-header">
                <div class="section-title">
                    <span class="section-icon">📺</span>
                    <h2>암호화폐 영상</h2>
                </div>
                <button id="refreshVideosBtn" class="btn-section-refresh">🔄 새로고침</button>
            </div>
            <div id="youtubeContainer" class="youtube-grid">
                <div class="youtube-loading">
                    <div class="spinner"></div>
                    <p>영상을 불러오는 중...</p>
                </div>
            </div>
        </section>

        <main id="newsContainer" class="news-grid">
            <div class="loading">
                <div class="spinner"></div>
                <p>뉴스를 불러오는 중...</p>
            </div>
        </main>

        <!-- Community Comments Section -->
        <section id="communitySection" class="community-section">
            <div class="section-header">
                <div class="section-title">
                    <span class="section-icon">💬</span>
                    <h2>커뮤니티 토론</h2>
                </div>
                <span class="community-badge" id="commentCount">로딩 중...</span>
            </div>
            <div id="commentsContainer" class="comments-container">
                <div class="comments-loading">
                    <div class="ai-loading-dots"><span></span><span></span><span></span></div>
                    <p>댓글을 불러오는 중...</p>
                </div>
            </div>
            <div class="comment-form-wrapper" id="commentFormWrapper">
                <div class="login-prompt" id="loginPrompt">
                    <p>💡 댓글을 작성하려면 <button class="btn-inline-login" id="inlineLoginBtn">로그인</button>하세요</p>
                </div>
                <form id="commentForm" class="comment-form hidden">
                    <div class="comment-input-wrapper">
                        <div class="comment-avatar" id="commentAvatar">?</div>
                        <textarea id="commentInput" placeholder="암호화폐 시장에 대한 의견을 공유하세요..." rows="2"
                            maxlength="500"></textarea>
                    </div>
                    <div class="comment-form-actions">
                        <span class="char-count" id="charCount">0/500</span>
                        <button type="submit" class="btn-comment-submit" id="submitCommentBtn">💬 댓글 작성</button>
                    </div>
                </form>
            </div>
        </section>

        <footer class="footer">
            <p>Powered by <a href="https://finnhub.io" target="_blank" rel="noopener">Finnhub</a> &middot; <a
                    href="https://www.binance.com" target="_blank" rel="noopener">Binance</a> &middot; <a
                    href="https://www.tensorflow.org/js" target="_blank" rel="noopener">TensorFlow.js</a> &middot; <a
                    href="https://firebase.google.com" target="_blank" rel="noopener">Firebase</a></p>
            <p class="footer-note">실시간 데이터로 업데이트됩니다</p>
        </footer>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <!-- TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.4.0/dist/tf.min.js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/@tensorflow-models/universal-sentence-encoder@1.3.3/dist/universal-sentence-encoder.min.js"></script>

    <!-- YouTube IFrame API -->
    <script src="https://www.youtube.com/iframe_api"></script>

    <script src="app.js"></script>
</body>

</html>